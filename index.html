<!DOCTYPE html>
<html>

<head>
<meta charset='utf-8' />
<meta http-equiv="X-UA-Compatible" content="chrome=1" />
<meta name="description"
	content="Js-class-loader : (Java) Fast Javascript aggegator / bundler, with dependency detection." />

<link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

<title>JS-Class-Loader</title>
</head>

<body>

	<!-- HEADER -->
	<div id="header_wrap" class="outer">
		<header class="inner">
			<a id="forkme_banner" href="https://github.com/damonsmith/js-class-loader">View on GitHub</a>

			<h1 id="project_title">JS-Class-Loader</h1>
			<h2 id="project_tagline">(Java) Fast Javascript aggregator / bundler, with dependency detection.</h2>

			<section id="downloads">
				<a class="zip_download_link" href="https://github.com/damonsmith/js-class-loader/releases/download/js-class-loader-parent-1.2.7/js-class-loader-1.2.7.jar">
					Download the latest release jar file
				</a> 
				<a class="tar_download_link" href="https://github.com/damonsmith/js-class-loader/tarball/master">
					Download this project as a tar.gz file
				</a>
			</section>
		</header>
	</div>

	<!-- MAIN CONTENT -->
	<div id="main_content_wrap" class="outer">
		<section id="main_content" class="inner">

			<div class="pure-g-r menu">
				<div class="pure-u-1-2">
					<h1>Section 1</h1>
					<a class="button_link" href="what-is-it.html">What is it?</a> 
					<a class="button_link" href="how-to-use-it.html">How to use it</a>
				</div>

				<div class="pure-u-1-2">
					<h1>Section 2</h1>
					<a class="button_link" href="how-it-works.html">How it works</a> 
					<a class="button_link" href="comparison.html">Comparison</a>
				</div>

				<div class="pure-u-1-2">
					<h1>Section 3</h1>
					<a class="button_link" href="examples.html">Examples</a> 
					<a class="button_link" href="advanced-config.html">Advanced config</a>
				</div>

				<div class="pure-u-1 footer">
					<a href="http://damon.larrymite.com.au/">Damon's code projects</a>
				</div>
			</div>
			<a name="js-class-loader" class="anchor" href="#js-class-loader"><span
				class="octicon octicon-link"></span></a>
			<h1>Overview</h1>

			<p>(Java) A Free Software tool for bundling and serving large Javascript codebases with
				automatic dependency detection. It is fast, tested, easy to integrate and does not use the words
				rockstar or ninja, or have a website filled with big gradient icons of robot kittens playing
				banjos. (but then it's not a javascript layout framework so I suppose it wouldn't anyway.)</p>

			<p>Developers working on large javascript codebases will know that if you are doing more that
				a couple of jquery datatables, rollovers and menus, then your javascript codebase can very
				quickly get messy and become hard to manage. This tool imposes code conventions that keep your
				code neat, clean and easy to manage and find. It uses these conventions to detect dependencies
				and bundle your code for you, so that you can add, remove and refactor code and files without
				having to do anything to your script tags. It is fast enough even on large codebases that it
				allows you to make a change, reload the browser and see the change.</p>
			<h2>
				<a name="rules-of-js-class-loader" class="anchor" href="#rules-of-js-class-loader"><span
					class="octicon octicon-link"></span></a>Rules of JS-Class-Loader
			</h2>

			<ol>
				<li>Class names must match file names</li>
				<li>Folder structure must match package structure</li>
				<li>File names must not have extra dots in them (dashes and underscores are ok though)</li>
			</ol>
			<p>Having said that, you can still include 3rd party libraries and modules in your bundle
				that don't conform to this scheme. You just need to explicitly include them in your code
				somewhere, you can't just rely on dependency detection to work out that you need them.</p>

			<p>Also, files can also contain static objects rather than classes. If the object name
				matches the file name then it will work the same way. If it doesn't you will need to include the
				file explicitly.</p>

			<h2>
				<a name="what-is-it" class="anchor" href="#what-is-it"><span class="octicon octicon-link"></span></a>What
				is it?
			</h2>

			<p>JS-Class-Loader is a java tool for managing large javascript codebases. It is not a
				generic tool like WRO4J or RequireJS that can be used on any codebase given a few modifications.
				This tool requires your source files to be organised in the Java style, where folders match
				package names and filenames match class names. If your code is organised this way then
				JS-Class-Loader will detect dependencies without you having to declare them at all, bundle your
				code or generate script tags for development, and also provide diagnostics like dependency
				graphs, lists of unused files and validation that your files contain the classes you think they
				do. (it's all too easy to copy-and-paste a function onto the wrong prototype in JS)</p>

			<p>JS-Class-Loader works as either a command line tool, a Maven Mojo, a Gradle task or a
				Servlet. The command line or java runners can be integrated into any other build system or just
				used ad-hoc.</p>

			<p>A recommended approach would be to use the servlet for dev and the generated static bundle
				file for test and production installations.</p>

			<p>It can be used to manage your own code as well as 3rd party modules. Third party modules
				may have to be listed as an explicit import() but they will be added to the bundle in the same
				way.</p>

			<p>
				See the wiki at <a href="http://github.com/damonsmith/js-class-loader">http://github.com/damonsmith/js-class-loader</a>
				for all the info and examples.
			</p>

			<h2>
				<a name="getting-started" class="anchor" href="#getting-started"><span
					class="octicon octicon-link"></span></a>Getting started
			</h2>

			<p>The simplest case on the command line: java -jar js-class-loader.jar --seed-file Main.js
				--output-file bundle.js</p>

			<p>This will use Main.js as the seed file, the current folder as the only source folder and
				generate a bundle of everything that is required for Main.js.</p>

			<p>The way that it works is that it first finds all js files in the current source tree. It
				then matches package and class usages in source files to find runtime dependencies. It also
				parses any use of the extend function to track parse-time dependencies and make sure they are
				loaded into the bundle before the subclass that requires them.</p>

			<p>See the docs for more info on running JS-Class-Loader and integrating it into your app.</p>

			<h2>
				<a name="dependency-detection" class="anchor" href="#dependency-detection"><span
					class="octicon octicon-link"></span></a>Dependency Detection
			</h2>

			<p>The JS-Class-Loader in it's natural state will just detect all of your dependencies
				starting with a seed file, (either code or config) generate bundles at request-time for dev and
				generate static bundles for production.</p>

			<p>The way it does this is: 1. It looks at the names and paths of all of the files in your
				configured source locations. 2. Starting with the seeds, it parses any file it finds for a
				string that looks like a known class type, so if your source path is</p>

			<p>/src</p>

			<p>and you have a file in /src/com/mycompany/tools/Loader.js</p>

			<p>then if your seed or any other included file uses the string: com.mycompany.tools.Loader
				then Loader.js will be included in the bundle.</p>

			<ol>
				<li>Parse-time dependencies OO Javascript usually extends sub-classes at parse time, like
					this:</li>
			</ol>
			<div class="highlight highlight-javascript">
				<pre>
					<span class="nx">com</span><span class="p">.</span><span class="nx">mycompany</span><span
						class="p">.</span><span class="nx">tools</span><span class="p">.</span><span class="nx">Loader</span> <span
						class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span
						class="cm">/*constructor */</span> <span class="p">};</span>

<span class="nx">extend</span><span class="p">(</span><span class="nx">com</span><span class="p">.</span><span
						class="nx">mycompany</span><span class="p">.</span><span class="nx">tools</span><span
						class="p">.</span><span class="nx">Loader</span><span class="p">,</span> <span class="nx">com</span><span
						class="p">.</span><span class="nx">mycompany</span><span class="p">.</span><span class="nx">app</span><span
						class="p">.</span><span class="nx">BaseLoader</span><span class="p">);</span>
</pre>
			</div>

			<p>So when JS-Class-Loader sees a line like this, it includes
				src/com/mycompany/app/BaseLoader.js and makes sure it appears before Loader.js in the bundle
				file so that the parse time dependency works.</p>

			<p>You can provide a config file and customise the regex that matches parse-time dependencies
				too, or provide more and different ones to customise it to your own syntax.</p>

			<h2>
				<a name="comparison-with-other-tools" class="anchor" href="#comparison-with-other-tools"><span
					class="octicon octicon-link"></span></a>Comparison with other tools
			</h2>

			<p>RequireJS is a popular tool for doing this sort of thing. Here are some reasons why this
				project still exists and isn't considered superceded by requireJS:</p>

			<p>RequireJS needs nodejs or rhino to run and takes a loooong time to generate bundles. Even
				running from nodejs the docs talk about taking 12 seconds to generate a bundle. JS-Class-Loader
				is so fast that you can hit save on a js file, hit reload on your browser and a few milliseconds
				later the bundle will be regenerated and served to the page.</p>

			<p>Of course with RequireJS you can lazy load your files in dev mode and have it traverse
				your dependency tree that way. For large codebases that becomes less and less practical, meaning
				you may find that developers are excited at first at how everything just works via magic and
				then more and more frustrated as the project goes on and the dev cycle gets slower and slower.
				This tool provides a solution where - if you can organise your files in a standard Java-like way
				- then this tool can do all the dependency management, dev tooling and development bundling for
				you very quickly and scale to any size.</p>

			<p>WRO4J also bundles javascript and other web assets and is generally very useful. It does
				not however provide anything to manage dependencies. It is fine if you have no parse-time
				dependencies and you just want to bundle everything, but if that is not the case then you will
				end up doing a lot of manual handling of your javascript.</p>

			<h2>
				<a name="history-of-the-js-class-loader" class="anchor" href="#history-of-the-js-class-loader"><span
					class="octicon octicon-link"></span></a>History of the JS-Class-Loader
			</h2>

			<p>JS-Class-Loader was written as a complete, free and open implementation of tools that
				exist in-house in many enterprise java development teams. The tooling is designed to scale to
				enterprise levels for codebases that have megabytes of js code, tens of thousands of files,
				loads of source locations, and is flexible enough that most config files for layouts or app
				structure can be used as seed files.</p>

			<p>The project started off as a fork of the Caplin Trader javascript bundler but has been
				rewritten from scratch.</p>
		</section>
	</div>

</body>
</html>
